{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"MedGemma Hackathon","text":"<p>This repository hosts the MedGemma hackathon demo for extracting atomic inclusion/exclusion criteria from clinical trial protocols, grounding them to SNOMED via UBKG, and enabling a human-in-the-loop (HITL) review experience.</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Overview: <code>docs/overview/project.md</code></li> <li>Architecture: <code>docs/overview/architecture.md</code></li> <li>Getting Started: <code>docs/overview/getting-started.md</code></li> <li>Hackathon Plan: <code>docs/overview/hackathon-plan.md</code></li> <li>API Spec: <code>docs/api/api_spec.md</code></li> <li>Components: <code>docs/components-overview.md</code></li> </ul>"},{"location":"#demo-goals","title":"Demo Goals","text":"<ul> <li>Extract atomic criteria with evidence snippets.</li> <li>Ground criteria to SNOMED with ranked candidates and confidence.</li> <li>Provide a HITL UI for nurse review and corrections.</li> <li>Capture edits for training and evaluation.</li> </ul>"},{"location":"#repo-layout","title":"Repo Layout","text":"<pre><code>components/     Service components (API, extraction, grounding, UI, etc.)\ndocs/           MkDocs documentation\nscripts/        Build and utility scripts\ninstructions/   Planning documents\n</code></pre>"},{"location":"components-overview/","title":"Components Overview","text":"<p>This page lists all available components in the monorepo, grouped by category. Click a component name to view its documentation.</p>"},{"location":"components-overview/#others-components","title":"Others Components","text":"Name Description Owner Api Service api-service component Unknown Data Pipeline data-pipeline component Unknown Evaluation evaluation component Unknown Extraction Service extraction-service component Unknown Grounding Service grounding-service component Unknown Hitl Ui React/Vite frontend for nurse review of extracted criteria and evidence. Unknown Shared shared component Unknown <p>Total Components: 7</p> <p>This overview is automatically generated from component pyproject.toml files and README files.</p>"},{"location":"api/api_spec/","title":"API Spec","text":"<p>The OpenAPI spec will live in this folder as <code>api_spec.yaml</code>.</p> <p>Endpoints (minimal):</p> <ul> <li><code>POST /v1/protocols</code></li> <li><code>POST /v1/protocols/{protocolId}/extract</code></li> <li><code>GET /v1/protocols/{protocolId}/criteria</code></li> <li><code>PATCH /v1/criteria/{criterionId}</code></li> <li><code>POST /v1/criteria/{criterionId}/ground</code></li> <li><code>POST /v1/hitl/feedback</code></li> </ul>"},{"location":"api-service/","title":"api-service","text":"<p>FastAPI service that orchestrates protocol ingestion, extraction, grounding, and HITL feedback. This is the entry point for the demo API.</p>"},{"location":"api-service/#responsibilities","title":"Responsibilities","text":"<ul> <li>Expose REST endpoints for protocols, criteria, grounding, and HITL edits.</li> <li>Validate request payloads and manage response shapes.</li> <li>Orchestrate calls to extraction and grounding components.</li> </ul>"},{"location":"api-service/#key-endpoints-wireframe","title":"Key Endpoints (wireframe)","text":"<ul> <li><code>POST /v1/protocols</code></li> <li><code>POST /v1/protocols/{protocol_id}/extract</code></li> <li><code>GET /v1/protocols/{protocol_id}/criteria</code></li> <li><code>PATCH /v1/criteria/{criterion_id}</code></li> <li><code>POST /v1/criteria/{criterion_id}/ground</code></li> <li><code>POST /v1/hitl/feedback</code></li> </ul>"},{"location":"api-service/#running-locally","title":"Running Locally","text":"<pre><code>uv sync\nuv run uvicorn api_service.main:app --reload\n</code></pre>"},{"location":"api-service/#example-usage","title":"Example Usage","text":"<pre><code>curl -X POST http://localhost:8000/v1/protocols \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\":\"Trial A\",\"document_text\":\"Inclusion: ...\"}'\n</code></pre>"},{"location":"api-service/#tests","title":"Tests","text":"<pre><code>make check-all\n</code></pre>"},{"location":"api-service/#configuration-planned","title":"Configuration (planned)","text":"<ul> <li><code>DATABASE_URL</code> for persistence.</li> <li><code>EXTRACTION_SERVICE_URL</code> for extraction orchestration.</li> <li><code>GROUNDING_SERVICE_URL</code> for UBKG grounding.</li> </ul>"},{"location":"api-service/docs/api/","title":"api-service API Reference","text":"<p>This page contains automatically generated API documentation for the api-service component.</p>"},{"location":"api-service/docs/api/#api-documentation","title":"API Documentation","text":""},{"location":"api-service/docs/api/#api_service","title":"api_service","text":"<p>api-service package.</p>"},{"location":"api-service/docs/api/#api_service-modules","title":"Modules","text":""},{"location":"api-service/docs/api/#api_service.main","title":"main","text":"<p>API service wireframe for the MedGemma hackathon demo.</p>"},{"location":"api-service/docs/api/#api_service.main-classes","title":"Classes","text":""},{"location":"api-service/docs/api/#api_service.main.ProtocolCreateRequest","title":"ProtocolCreateRequest","text":"<p>               Bases: <code>BaseModel</code></p> <pre><code>\n              flowchart TD\n              api_service.main.ProtocolCreateRequest[ProtocolCreateRequest]\n\n              \n\n              click api_service.main.ProtocolCreateRequest href \"\" \"api_service.main.ProtocolCreateRequest\"\n            </code></pre> <p>Request payload for creating a protocol entry.</p> <p>Attributes:</p> Name Type Description <code>title</code> <code>str</code> <p>Human-readable trial title.</p> <code>document_text</code> <code>str</code> <p>Raw protocol text or extracted PDF text.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; ProtocolCreateRequest(title=\"Trial A\", document_text=\"Inclusion: ...\")\nProtocolCreateRequest(title='Trial A', document_text='Inclusion: ...')\n</code></pre> Notes <p>This model is a wireframe stub. Fields may expand to include metadata such as NCT ID, condition, phase, and source URLs.</p>"},{"location":"api-service/docs/api/#api_service.main-functions","title":"Functions","text":""},{"location":"api-service/docs/api/#api_service.main.create_protocol","title":"create_protocol","text":"<pre><code>create_protocol(payload: ProtocolCreateRequest) -&gt; dict\n</code></pre> <p>Create a protocol record and initial document entry.</p> <p>Parameters:</p> Name Type Description Default <code>payload</code> <code>ProtocolCreateRequest</code> <p>Metadata and text for the protocol.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>A minimal response containing the protocol identifier and title.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If required fields are missing or invalid.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; create_protocol(\n...     ProtocolCreateRequest(\n...         title=\"Trial A\",\n...         document_text=\"Inclusion: ...\",\n...     )\n... )\n{'protocol_id': 'proto-1', 'title': 'Trial A'}\n</code></pre> Notes <p>This is a stub implementation. Persistence and validation will be added as part of the API hardening phase.</p> Source code in <code>components/api-service/src/api_service/main.py</code> <pre><code>@app.post(\"/v1/protocols\")\ndef create_protocol(payload: ProtocolCreateRequest) -&gt; dict:\n    \"\"\"Create a protocol record and initial document entry.\n\n    Args:\n        payload: Metadata and text for the protocol.\n\n    Returns:\n        A minimal response containing the protocol identifier and title.\n\n    Raises:\n        ValueError: If required fields are missing or invalid.\n\n    Examples:\n        &gt;&gt;&gt; create_protocol(\n        ...     ProtocolCreateRequest(\n        ...         title=\"Trial A\",\n        ...         document_text=\"Inclusion: ...\",\n        ...     )\n        ... )\n        {'protocol_id': 'proto-1', 'title': 'Trial A'}\n\n    Notes:\n        This is a stub implementation. Persistence and validation will be\n        added as part of the API hardening phase.\n    \"\"\"\n    return {\"protocol_id\": \"proto-1\", \"title\": payload.title}\n</code></pre>"},{"location":"api-service/docs/api/#api_service.main.extract_criteria","title":"extract_criteria","text":"<pre><code>extract_criteria(protocol_id: str) -&gt; dict\n</code></pre> <p>Trigger extraction of atomic criteria for a protocol.</p> <p>Parameters:</p> Name Type Description Default <code>protocol_id</code> <code>str</code> <p>Identifier of the protocol to process.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>A status object describing the extraction trigger.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the protocol is not found.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; extract_criteria(\"proto-1\")\n{'protocol_id': 'proto-1', 'status': 'queued'}\n</code></pre> Notes <p>In production, this endpoint will call the extraction service and persist criteria rows in the database.</p> Source code in <code>components/api-service/src/api_service/main.py</code> <pre><code>@app.post(\"/v1/protocols/{protocol_id}/extract\")\ndef extract_criteria(protocol_id: str) -&gt; dict:\n    \"\"\"Trigger extraction of atomic criteria for a protocol.\n\n    Args:\n        protocol_id: Identifier of the protocol to process.\n\n    Returns:\n        A status object describing the extraction trigger.\n\n    Raises:\n        ValueError: If the protocol is not found.\n\n    Examples:\n        &gt;&gt;&gt; extract_criteria(\"proto-1\")\n        {'protocol_id': 'proto-1', 'status': 'queued'}\n\n    Notes:\n        In production, this endpoint will call the extraction service and\n        persist criteria rows in the database.\n    \"\"\"\n    return {\"protocol_id\": protocol_id, \"status\": \"queued\"}\n</code></pre>"},{"location":"api-service/docs/api/#api_service.main.list_criteria","title":"list_criteria","text":"<pre><code>list_criteria(protocol_id: str) -&gt; dict\n</code></pre> <p>List criteria generated for a protocol.</p> <p>Parameters:</p> Name Type Description Default <code>protocol_id</code> <code>str</code> <p>Identifier of the protocol to retrieve criteria for.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>A response containing the protocol ID and a list of criteria.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the protocol is not found.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; list_criteria(\"proto-1\")\n{'protocol_id': 'proto-1', 'criteria': []}\n</code></pre> Notes <p>This is currently a wireframe response. It will be backed by database results in the API service implementation.</p> Source code in <code>components/api-service/src/api_service/main.py</code> <pre><code>@app.get(\"/v1/protocols/{protocol_id}/criteria\")\ndef list_criteria(protocol_id: str) -&gt; dict:\n    \"\"\"List criteria generated for a protocol.\n\n    Args:\n        protocol_id: Identifier of the protocol to retrieve criteria for.\n\n    Returns:\n        A response containing the protocol ID and a list of criteria.\n\n    Raises:\n        ValueError: If the protocol is not found.\n\n    Examples:\n        &gt;&gt;&gt; list_criteria(\"proto-1\")\n        {'protocol_id': 'proto-1', 'criteria': []}\n\n    Notes:\n        This is currently a wireframe response. It will be backed by\n        database results in the API service implementation.\n    \"\"\"\n    return {\"protocol_id\": protocol_id, \"criteria\": []}\n</code></pre>"},{"location":"api-service/docs/api/#api_service.main.update_criterion","title":"update_criterion","text":"<pre><code>update_criterion(criterion_id: str) -&gt; dict\n</code></pre> <p>Update a single criterion or its metadata.</p> <p>Parameters:</p> Name Type Description Default <code>criterion_id</code> <code>str</code> <p>Identifier of the criterion to update.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>A minimal confirmation response.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the criterion is not found or the update is invalid.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; update_criterion(\"crit-1\")\n{'criterion_id': 'crit-1', 'status': 'updated'}\n</code></pre> Notes <p>The final implementation will accept a PATCH payload with fields like text, criterion type, and evidence spans.</p> Source code in <code>components/api-service/src/api_service/main.py</code> <pre><code>@app.patch(\"/v1/criteria/{criterion_id}\")\ndef update_criterion(criterion_id: str) -&gt; dict:\n    \"\"\"Update a single criterion or its metadata.\n\n    Args:\n        criterion_id: Identifier of the criterion to update.\n\n    Returns:\n        A minimal confirmation response.\n\n    Raises:\n        ValueError: If the criterion is not found or the update is invalid.\n\n    Examples:\n        &gt;&gt;&gt; update_criterion(\"crit-1\")\n        {'criterion_id': 'crit-1', 'status': 'updated'}\n\n    Notes:\n        The final implementation will accept a PATCH payload with fields\n        like text, criterion type, and evidence spans.\n    \"\"\"\n    return {\"criterion_id\": criterion_id, \"status\": \"updated\"}\n</code></pre>"},{"location":"api-service/docs/api/#api_service.main.ground_criterion","title":"ground_criterion","text":"<pre><code>ground_criterion(criterion_id: str) -&gt; dict\n</code></pre> <p>Retrieve SNOMED candidates for a criterion.</p> <p>Parameters:</p> Name Type Description Default <code>criterion_id</code> <code>str</code> <p>Identifier of the criterion to ground.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>A response containing candidate SNOMED codes.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the criterion is not found.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; ground_criterion(\"crit-1\")\n{'criterion_id': 'crit-1', 'candidates': []}\n</code></pre> Notes <p>This endpoint will call the grounding service and cache candidate codes for HITL review.</p> Source code in <code>components/api-service/src/api_service/main.py</code> <pre><code>@app.post(\"/v1/criteria/{criterion_id}/ground\")\ndef ground_criterion(criterion_id: str) -&gt; dict:\n    \"\"\"Retrieve SNOMED candidates for a criterion.\n\n    Args:\n        criterion_id: Identifier of the criterion to ground.\n\n    Returns:\n        A response containing candidate SNOMED codes.\n\n    Raises:\n        ValueError: If the criterion is not found.\n\n    Examples:\n        &gt;&gt;&gt; ground_criterion(\"crit-1\")\n        {'criterion_id': 'crit-1', 'candidates': []}\n\n    Notes:\n        This endpoint will call the grounding service and cache candidate\n        codes for HITL review.\n    \"\"\"\n    return {\"criterion_id\": criterion_id, \"candidates\": []}\n</code></pre>"},{"location":"api-service/docs/api/#api_service.main.hitl_feedback","title":"hitl_feedback","text":"<pre><code>hitl_feedback() -&gt; dict\n</code></pre> <p>Record HITL feedback for criteria and SNOMED candidates.</p> <p>Returns:</p> Type Description <code>dict</code> <p>A confirmation that feedback was recorded.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the feedback payload is invalid.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; hitl_feedback()\n{'status': 'recorded'}\n</code></pre> Notes <p>The final version will accept a payload describing the nurse action (accept/reject/add code) and evidence rationale.</p> Source code in <code>components/api-service/src/api_service/main.py</code> <pre><code>@app.post(\"/v1/hitl/feedback\")\ndef hitl_feedback() -&gt; dict:\n    \"\"\"Record HITL feedback for criteria and SNOMED candidates.\n\n    Returns:\n        A confirmation that feedback was recorded.\n\n    Raises:\n        ValueError: If the feedback payload is invalid.\n\n    Examples:\n        &gt;&gt;&gt; hitl_feedback()\n        {'status': 'recorded'}\n\n    Notes:\n        The final version will accept a payload describing the nurse action\n        (accept/reject/add code) and evidence rationale.\n    \"\"\"\n    return {\"status\": \"recorded\"}\n</code></pre>"},{"location":"data-pipeline/","title":"data-pipeline","text":"<p>Protocol ingestion tools for ClinicalTrials.gov. Converts raw protocol documents into normalized records.</p>"},{"location":"data-pipeline/#responsibilities","title":"Responsibilities","text":"<ul> <li>Download or ingest protocol text/PDFs.</li> <li>Normalize and store protocol metadata.</li> <li>Emit data for extraction and grounding.</li> </ul>"},{"location":"data-pipeline/#entry-point","title":"Entry Point","text":"<ul> <li><code>data_pipeline/download_protocols.py</code></li> </ul>"},{"location":"data-pipeline/#running-the-stub","title":"Running the Stub","text":"<pre><code>uv run python -m data_pipeline.download_protocols\n</code></pre>"},{"location":"data-pipeline/#planned-outputs","title":"Planned Outputs","text":"<ul> <li><code>protocols</code> table rows (<code>nct_id</code>, title, condition, phase).</li> <li><code>documents</code> table rows for protocol text.</li> </ul>"},{"location":"data-pipeline/docs/api/","title":"data-pipeline API Reference","text":"<p>This page contains automatically generated API documentation for the data-pipeline component.</p>"},{"location":"data-pipeline/docs/api/#api-documentation","title":"API Documentation","text":""},{"location":"data-pipeline/docs/api/#data_pipeline","title":"data_pipeline","text":"<p>data-pipeline package.</p>"},{"location":"data-pipeline/docs/api/#data_pipeline-modules","title":"Modules","text":""},{"location":"data-pipeline/docs/api/#data_pipeline.download_protocols","title":"download_protocols","text":"<p>Placeholder script for ClinicalTrials.gov protocol ingestion.</p>"},{"location":"data-pipeline/docs/api/#data_pipeline.download_protocols-classes","title":"Classes","text":""},{"location":"data-pipeline/docs/api/#data_pipeline.download_protocols.ProtocolRecord","title":"ProtocolRecord  <code>dataclass</code>","text":"<pre><code>ProtocolRecord(nct_id: str, title: str, condition: str, phase: str, document_text: str)\n</code></pre> <p>Normalized protocol record for downstream services.</p> <p>Parameters:</p> Name Type Description Default <code>nct_id</code> <code>str</code> <p>ClinicalTrials.gov identifier.</p> required <code>title</code> <code>str</code> <p>Trial title.</p> required <code>condition</code> <code>str</code> <p>Primary condition or disease area.</p> required <code>phase</code> <code>str</code> <p>Trial phase label.</p> required <code>document_text</code> <code>str</code> <p>Extracted protocol text for NLP processing.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; ProtocolRecord(\n...     nct_id=\"NCT00000000\",\n...     title=\"Example Trial\",\n...     condition=\"Melanoma\",\n...     phase=\"Phase 2\",\n...     document_text=\"Inclusion: Age &gt;= 18.\",\n... )\nProtocolRecord(\n...     nct_id='NCT00000000',\n...     title='Example Trial',\n...     condition='Melanoma',\n...     phase='Phase 2',\n...     document_text='Inclusion: Age &gt;= 18.',\n... )\n</code></pre> Notes <p>This model represents the canonical ingestion output for the API service.</p>"},{"location":"data-pipeline/docs/api/#data_pipeline.download_protocols-functions","title":"Functions","text":""},{"location":"data-pipeline/docs/api/#data_pipeline.download_protocols.download_protocols","title":"download_protocols","text":"<pre><code>download_protocols(limit: int = 200) -&gt; List[ProtocolRecord]\n</code></pre> <p>Download and normalize protocol records from ClinicalTrials.gov.</p> <p>Parameters:</p> Name Type Description Default <code>limit</code> <code>int</code> <p>Maximum number of protocols to retrieve.</p> <code>200</code> <p>Returns:</p> Type Description <code>List[ProtocolRecord]</code> <p>A list of normalized protocol records.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If limit is not positive.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; download_protocols(limit=1)\n[]\n</code></pre> Notes <p>This is a wireframe stub. The production implementation will call ClinicalTrials.gov APIs and persist records to the database.</p> Source code in <code>components/data-pipeline/src/data_pipeline/download_protocols.py</code> <pre><code>def download_protocols(limit: int = 200) -&gt; List[ProtocolRecord]:\n    \"\"\"Download and normalize protocol records from ClinicalTrials.gov.\n\n    Args:\n        limit: Maximum number of protocols to retrieve.\n\n    Returns:\n        A list of normalized protocol records.\n\n    Raises:\n        ValueError: If limit is not positive.\n\n    Examples:\n        &gt;&gt;&gt; download_protocols(limit=1)\n        []\n\n    Notes:\n        This is a wireframe stub. The production implementation will call\n        ClinicalTrials.gov APIs and persist records to the database.\n    \"\"\"\n    return []\n</code></pre>"},{"location":"data-pipeline/docs/api/#data_pipeline.download_protocols.emit_records","title":"emit_records","text":"<pre><code>emit_records(records: Iterable[ProtocolRecord]) -&gt; None\n</code></pre> <p>Persist or stream protocol records for downstream services.</p> <p>Parameters:</p> Name Type Description Default <code>records</code> <code>Iterable[ProtocolRecord]</code> <p>Iterable of normalized protocol records.</p> required <p>Returns:</p> Type Description <code>None</code> <p>None.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; emit_records([])\nNone\n</code></pre> Notes <p>This stub represents the integration point for database writes or JSONL exports used by the extraction pipeline.</p> Source code in <code>components/data-pipeline/src/data_pipeline/download_protocols.py</code> <pre><code>def emit_records(records: Iterable[ProtocolRecord]) -&gt; None:\n    \"\"\"Persist or stream protocol records for downstream services.\n\n    Args:\n        records: Iterable of normalized protocol records.\n\n    Returns:\n        None.\n\n    Examples:\n        &gt;&gt;&gt; emit_records([])\n        None\n\n    Notes:\n        This stub represents the integration point for database writes or\n        JSONL exports used by the extraction pipeline.\n    \"\"\"\n    return None\n</code></pre>"},{"location":"data-pipeline/docs/api/#data_pipeline.download_protocols.main","title":"main","text":"<pre><code>main() -&gt; None\n</code></pre> <p>CLI entrypoint for protocol ingestion.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; main()\nNone\n</code></pre> Source code in <code>components/data-pipeline/src/data_pipeline/download_protocols.py</code> <pre><code>def main() -&gt; None:\n    \"\"\"CLI entrypoint for protocol ingestion.\n\n    Examples:\n        &gt;&gt;&gt; main()\n        None\n    \"\"\"\n    records = download_protocols(limit=1)\n    emit_records(records)\n    print(\"Download protocols placeholder\")\n</code></pre>"},{"location":"diagrams/grounding-flow/","title":"Grounding Flow","text":"<pre><code>flowchart LR\n  criterion[CriterionText] --&gt; ubkg[UBKGSearch]\n  ubkg --&gt; candidates[SNOMEDCandidates]\n  candidates --&gt; rank[ModelRanking]\n  rank --&gt; review[HITLReview]\n</code></pre>"},{"location":"diagrams/hitl-flow/","title":"HITL Flow","text":"<pre><code>flowchart LR\n  protocol[ProtocolUpload] --&gt; extract[CriteriaExtraction]\n  extract --&gt; ground[UBKGGrounding]\n  ground --&gt; review[HITLReview]\n  review --&gt; feedback[FeedbackLog]\n  feedback --&gt; retrain[LoRAUpdate]\n</code></pre>"},{"location":"evaluation/","title":"evaluation","text":"<p>Metrics and reporting for extraction and grounding quality.</p>"},{"location":"evaluation/#responsibilities","title":"Responsibilities","text":"<ul> <li>Compute extraction F1 and SNOMED Top-1 accuracy.</li> <li>Aggregate HITL acceptance metrics.</li> </ul>"},{"location":"evaluation/#key-module","title":"Key Module","text":"<ul> <li><code>evaluation/metrics.py</code></li> </ul>"},{"location":"evaluation/#example-usage","title":"Example Usage","text":"<pre><code>from evaluation.metrics import extraction_f1, snomed_top1_accuracy\n\nf1 = extraction_f1([\"age &gt;= 18\"], [\"age &gt;= 18\"])\ntop1 = snomed_top1_accuracy([\"372244006\"], [\"372244006\"])\n</code></pre>"},{"location":"evaluation/#tests","title":"Tests","text":"<pre><code>make check-all\n</code></pre>"},{"location":"evaluation/docs/api/","title":"evaluation API Reference","text":"<p>This page contains automatically generated API documentation for the evaluation component.</p>"},{"location":"evaluation/docs/api/#api-documentation","title":"API Documentation","text":""},{"location":"evaluation/docs/api/#evaluation","title":"evaluation","text":"<p>evaluation package.</p>"},{"location":"evaluation/docs/api/#evaluation-modules","title":"Modules","text":""},{"location":"evaluation/docs/api/#evaluation.metrics","title":"metrics","text":"<p>Evaluation metrics stubs.</p>"},{"location":"evaluation/docs/api/#evaluation.metrics-functions","title":"Functions","text":""},{"location":"evaluation/docs/api/#evaluation.metrics.extraction_f1","title":"extraction_f1","text":"<pre><code>extraction_f1(predicted: List[str], gold: List[str]) -&gt; float\n</code></pre> <p>Compute extraction F1 score for criteria lists.</p> <p>Parameters:</p> Name Type Description Default <code>predicted</code> <code>List[str]</code> <p>Extracted criterion strings.</p> required <code>gold</code> <code>List[str]</code> <p>Gold-standard criterion strings.</p> required <p>Returns:</p> Type Description <code>float</code> <p>F1 score in the range [0.0, 1.0].</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the inputs are empty or not comparable.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; extraction_f1([\"age &gt;= 18\"], [\"age &gt;= 18\"])\n0.0\n</code></pre> Notes <p>This is a wireframe stub. The production implementation will normalize text and compute precision/recall on span matches.</p> Source code in <code>components/evaluation/src/evaluation/metrics.py</code> <pre><code>def extraction_f1(predicted: List[str], gold: List[str]) -&gt; float:\n    \"\"\"Compute extraction F1 score for criteria lists.\n\n    Args:\n        predicted: Extracted criterion strings.\n        gold: Gold-standard criterion strings.\n\n    Returns:\n        F1 score in the range [0.0, 1.0].\n\n    Raises:\n        ValueError: If the inputs are empty or not comparable.\n\n    Examples:\n        &gt;&gt;&gt; extraction_f1([\"age &gt;= 18\"], [\"age &gt;= 18\"])\n        0.0\n\n    Notes:\n        This is a wireframe stub. The production implementation will\n        normalize text and compute precision/recall on span matches.\n    \"\"\"\n    return 0.0\n</code></pre>"},{"location":"evaluation/docs/api/#evaluation.metrics.snomed_top1_accuracy","title":"snomed_top1_accuracy","text":"<pre><code>snomed_top1_accuracy(predicted: List[str], gold: List[str]) -&gt; float\n</code></pre> <p>Compute Top-1 accuracy for SNOMED grounding.</p> <p>Parameters:</p> Name Type Description Default <code>predicted</code> <code>List[str]</code> <p>Predicted SNOMED codes.</p> required <code>gold</code> <code>List[str]</code> <p>Gold-standard SNOMED codes.</p> required <p>Returns:</p> Type Description <code>float</code> <p>Top-1 accuracy in the range [0.0, 1.0].</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the inputs are empty or not comparable.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; snomed_top1_accuracy([\"372244006\"], [\"372244006\"])\n0.0\n</code></pre> Notes <p>This stub will be replaced by a metric implementation aligned with UBKG candidate ranking outputs.</p> Source code in <code>components/evaluation/src/evaluation/metrics.py</code> <pre><code>def snomed_top1_accuracy(predicted: List[str], gold: List[str]) -&gt; float:\n    \"\"\"Compute Top-1 accuracy for SNOMED grounding.\n\n    Args:\n        predicted: Predicted SNOMED codes.\n        gold: Gold-standard SNOMED codes.\n\n    Returns:\n        Top-1 accuracy in the range [0.0, 1.0].\n\n    Raises:\n        ValueError: If the inputs are empty or not comparable.\n\n    Examples:\n        &gt;&gt;&gt; snomed_top1_accuracy([\"372244006\"], [\"372244006\"])\n        0.0\n\n    Notes:\n        This stub will be replaced by a metric implementation aligned with\n        UBKG candidate ranking outputs.\n    \"\"\"\n    return 0.0\n</code></pre>"},{"location":"evaluation/docs/api/#evaluation.metrics.hitl_acceptance_rate","title":"hitl_acceptance_rate","text":"<pre><code>hitl_acceptance_rate(actions: Iterable[str]) -&gt; float\n</code></pre> <p>Compute acceptance rate from HITL action labels.</p> <p>Parameters:</p> Name Type Description Default <code>actions</code> <code>Iterable[str]</code> <p>Iterable of action labels (e.g., \"accept\", \"reject\").</p> required <p>Returns:</p> Type Description <code>float</code> <p>Acceptance rate as a float in the range [0.0, 1.0].</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If no actions are provided.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; hitl_acceptance_rate([\"accept\", \"reject\", \"accept\"])\n0.0\n</code></pre> Notes <p>This stub represents the acceptance metric tracked in the hackathon.</p> Source code in <code>components/evaluation/src/evaluation/metrics.py</code> <pre><code>def hitl_acceptance_rate(actions: Iterable[str]) -&gt; float:\n    \"\"\"Compute acceptance rate from HITL action labels.\n\n    Args:\n        actions: Iterable of action labels (e.g., \"accept\", \"reject\").\n\n    Returns:\n        Acceptance rate as a float in the range [0.0, 1.0].\n\n    Raises:\n        ValueError: If no actions are provided.\n\n    Examples:\n        &gt;&gt;&gt; hitl_acceptance_rate([\"accept\", \"reject\", \"accept\"])\n        0.0\n\n    Notes:\n        This stub represents the acceptance metric tracked in the hackathon.\n    \"\"\"\n    return 0.0\n</code></pre>"},{"location":"extraction-service/","title":"extraction-service","text":"<p>Wireframe extraction pipeline for MedGemma Task A. Produces atomic inclusion/exclusion criteria from protocol text.</p>"},{"location":"extraction-service/#responsibilities","title":"Responsibilities","text":"<ul> <li>Segment protocol text into candidate criteria.</li> <li>Classify criteria as inclusion/exclusion.</li> <li>Return evidence snippets and confidence scores.</li> </ul>"},{"location":"extraction-service/#key-module","title":"Key Module","text":"<ul> <li><code>extraction_service/pipeline.py</code></li> </ul>"},{"location":"extraction-service/#example-usage","title":"Example Usage","text":"<pre><code>from extraction_service.pipeline import extract_criteria\n\ncriteria = extract_criteria(\"Inclusion: Age &gt;= 18...\")\nfor item in criteria:\n    print(item.text, item.criterion_type, item.confidence)\n</code></pre>"},{"location":"extraction-service/#tests","title":"Tests","text":"<pre><code>make check-all\n</code></pre>"},{"location":"extraction-service/#notes","title":"Notes","text":"<p>This component is a stub. It documents the intended API for wiring MedGemma LoRA adapters.</p>"},{"location":"extraction-service/docs/api/","title":"extraction-service API Reference","text":"<p>This page contains automatically generated API documentation for the extraction-service component.</p>"},{"location":"extraction-service/docs/api/#api-documentation","title":"API Documentation","text":""},{"location":"extraction-service/docs/api/#extraction_service","title":"extraction_service","text":"<p>extraction-service package.</p>"},{"location":"extraction-service/docs/api/#extraction_service-modules","title":"Modules","text":""},{"location":"extraction-service/docs/api/#extraction_service.pipeline","title":"pipeline","text":"<p>Extraction pipeline stubs for MedGemma Task A.</p>"},{"location":"extraction-service/docs/api/#extraction_service.pipeline-classes","title":"Classes","text":""},{"location":"extraction-service/docs/api/#extraction_service.pipeline.Criterion","title":"Criterion  <code>dataclass</code>","text":"<pre><code>Criterion(text: str, criterion_type: str, confidence: float)\n</code></pre> <p>Atomic inclusion/exclusion criterion extracted from a protocol.</p> <p>Parameters:</p> Name Type Description Default <code>text</code> <code>str</code> <p>The criterion text span.</p> required <code>criterion_type</code> <code>str</code> <p>Inclusion or exclusion label.</p> required <code>confidence</code> <code>float</code> <p>Model confidence score from 0.0 to 1.0.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; Criterion(\n...     text=\"Age &gt;= 18 years\",\n...     criterion_type=\"inclusion\",\n...     confidence=0.92,\n... )\nCriterion(text='Age &gt;= 18 years', criterion_type='inclusion', confidence=0.92)\n</code></pre> Notes <p>Evidence spans and grounding candidates are stored downstream by the API.</p>"},{"location":"extraction-service/docs/api/#extraction_service.pipeline-functions","title":"Functions","text":""},{"location":"extraction-service/docs/api/#extraction_service.pipeline.extract_criteria","title":"extract_criteria","text":"<pre><code>extract_criteria(document_text: str) -&gt; List[Criterion]\n</code></pre> <p>Extract atomic inclusion/exclusion criteria from protocol text.</p> <p>Parameters:</p> Name Type Description Default <code>document_text</code> <code>str</code> <p>Raw protocol text or extracted PDF text.</p> required <p>Returns:</p> Type Description <code>List[Criterion]</code> <p>A list of extracted criteria with type and confidence scores.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the document text is empty or not parseable.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; extract_criteria(\"Inclusion: Age &gt;= 18 years.\")\n[]\n</code></pre> Notes <p>This is a wireframe stub. The production pipeline will use MedGemma for extraction and classification, with evidence spans attached.</p> Source code in <code>components/extraction-service/src/extraction_service/pipeline.py</code> <pre><code>def extract_criteria(document_text: str) -&gt; List[Criterion]:\n    \"\"\"Extract atomic inclusion/exclusion criteria from protocol text.\n\n    Args:\n        document_text: Raw protocol text or extracted PDF text.\n\n    Returns:\n        A list of extracted criteria with type and confidence scores.\n\n    Raises:\n        ValueError: If the document text is empty or not parseable.\n\n    Examples:\n        &gt;&gt;&gt; extract_criteria(\"Inclusion: Age &gt;= 18 years.\")\n        []\n\n    Notes:\n        This is a wireframe stub. The production pipeline will use MedGemma\n        for extraction and classification, with evidence spans attached.\n    \"\"\"\n    return []\n</code></pre>"},{"location":"extraction-service/docs/api/#extraction_service.pipeline.split_into_candidate_sentences","title":"split_into_candidate_sentences","text":"<pre><code>split_into_candidate_sentences(document_text: str) -&gt; List[str]\n</code></pre> <p>Split protocol text into candidate sentences for extraction.</p> <p>Parameters:</p> Name Type Description Default <code>document_text</code> <code>str</code> <p>Raw protocol text or extracted PDF text.</p> required <p>Returns:</p> Type Description <code>List[str]</code> <p>Sentence-level candidates for criteria extraction.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the input text is empty.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; split_into_candidate_sentences(\"Inclusion: Age &gt;= 18. Exclusion: Pregnant.\")\n[]\n</code></pre> Notes <p>Intended to be replaced by a robust section parser and sentence splitter tuned for clinical trial formatting.</p> Source code in <code>components/extraction-service/src/extraction_service/pipeline.py</code> <pre><code>def split_into_candidate_sentences(document_text: str) -&gt; List[str]:\n    \"\"\"Split protocol text into candidate sentences for extraction.\n\n    Args:\n        document_text: Raw protocol text or extracted PDF text.\n\n    Returns:\n        Sentence-level candidates for criteria extraction.\n\n    Raises:\n        ValueError: If the input text is empty.\n\n    Examples:\n        &gt;&gt;&gt; split_into_candidate_sentences(\"Inclusion: Age &gt;= 18. Exclusion: Pregnant.\")\n        []\n\n    Notes:\n        Intended to be replaced by a robust section parser and sentence\n        splitter tuned for clinical trial formatting.\n    \"\"\"\n    return []\n</code></pre>"},{"location":"extraction-service/docs/api/#extraction_service.pipeline.classify_criterion_type","title":"classify_criterion_type","text":"<pre><code>classify_criterion_type(candidate_text: str) -&gt; str\n</code></pre> <p>Classify a criterion candidate as inclusion or exclusion.</p> <p>Parameters:</p> Name Type Description Default <code>candidate_text</code> <code>str</code> <p>Candidate sentence or span to classify.</p> required <p>Returns:</p> Type Description <code>str</code> <p>Either <code>\"inclusion\"</code> or <code>\"exclusion\"</code>.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the candidate text is empty.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; classify_criterion_type(\"Age &gt;= 18 years\")\n'inclusion'\n</code></pre> Notes <p>This stub is a placeholder for MedGemma classification.</p> Source code in <code>components/extraction-service/src/extraction_service/pipeline.py</code> <pre><code>def classify_criterion_type(candidate_text: str) -&gt; str:\n    \"\"\"Classify a criterion candidate as inclusion or exclusion.\n\n    Args:\n        candidate_text: Candidate sentence or span to classify.\n\n    Returns:\n        Either ``\"inclusion\"`` or ``\"exclusion\"``.\n\n    Raises:\n        ValueError: If the candidate text is empty.\n\n    Examples:\n        &gt;&gt;&gt; classify_criterion_type(\"Age &gt;= 18 years\")\n        'inclusion'\n\n    Notes:\n        This stub is a placeholder for MedGemma classification.\n    \"\"\"\n    return \"inclusion\"\n</code></pre>"},{"location":"grounding-service/","title":"grounding-service","text":"<p>UBKG REST client and grounding helpers for Task B. Retrieves SNOMED candidates for each criterion.</p>"},{"location":"grounding-service/#responsibilities","title":"Responsibilities","text":"<ul> <li>Query UBKG for SNOMED candidates.</li> <li>Return ranked candidates with display names and confidence scores.</li> </ul>"},{"location":"grounding-service/#key-module","title":"Key Module","text":"<ul> <li><code>grounding_service/ubkg_client.py</code></li> </ul>"},{"location":"grounding-service/#example-usage","title":"Example Usage","text":"<pre><code>from grounding_service.ubkg_client import UbkgClient\n\nclient = UbkgClient()\nresults = client.search_snomed(\"stage III melanoma\")\nprint(results)\n</code></pre>"},{"location":"grounding-service/#tests","title":"Tests","text":"<pre><code>make check-all\n</code></pre>"},{"location":"grounding-service/#configuration-planned","title":"Configuration (planned)","text":"<ul> <li><code>UBKG_BASE_URL</code> (default: <code>https://ubkg-api.xconsortia.org</code>)</li> <li><code>UBKG_TIMEOUT_SECONDS</code></li> </ul>"},{"location":"grounding-service/docs/api/","title":"grounding-service API Reference","text":"<p>This page contains automatically generated API documentation for the grounding-service component.</p>"},{"location":"grounding-service/docs/api/#api-documentation","title":"API Documentation","text":""},{"location":"grounding-service/docs/api/#grounding_service","title":"grounding_service","text":"<p>grounding-service package.</p>"},{"location":"grounding-service/docs/api/#grounding_service-modules","title":"Modules","text":""},{"location":"grounding-service/docs/api/#grounding_service.ubkg_client","title":"ubkg_client","text":"<p>UBKG REST client stub.</p>"},{"location":"grounding-service/docs/api/#grounding_service.ubkg_client-classes","title":"Classes","text":""},{"location":"grounding-service/docs/api/#grounding_service.ubkg_client.UbkgCandidate","title":"UbkgCandidate  <code>dataclass</code>","text":"<pre><code>UbkgCandidate(code: str, display: str, ontology: str, confidence: float)\n</code></pre> <p>SNOMED candidate returned from UBKG.</p> <p>Parameters:</p> Name Type Description Default <code>code</code> <code>str</code> <p>SNOMED concept code.</p> required <code>display</code> <code>str</code> <p>Human-readable concept name.</p> required <code>ontology</code> <code>str</code> <p>Ontology label (e.g., SNOMED CT).</p> required <code>confidence</code> <code>float</code> <p>Confidence or relevance score.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; UbkgCandidate(\n...     code=\"372244006\",\n...     display=\"Malignant melanoma, stage III\",\n...     ontology=\"SNOMED CT\",\n...     confidence=0.92,\n... )\nUbkgCandidate(\n...     code='372244006',\n...     display='Malignant melanoma, stage III',\n...     ontology='SNOMED CT',\n...     confidence=0.92,\n... )\n</code></pre> Notes <p>UBKG returns richer fields; this wireframe focuses on what the HITL UI needs.</p>"},{"location":"grounding-service/docs/api/#grounding_service.ubkg_client.UbkgClient","title":"UbkgClient","text":"<pre><code>UbkgClient(base_url: str = 'https://ubkg-api.xconsortia.org')\n</code></pre> <p>Client for UBKG REST search endpoints.</p> <p>Parameters:</p> Name Type Description Default <code>base_url</code> <code>str</code> <p>Base URL for the UBKG REST API.</p> <code>'https://ubkg-api.xconsortia.org'</code> <p>Examples:</p> <pre><code>&gt;&gt;&gt; UbkgClient().base_url\n'https://ubkg-api.xconsortia.org'\n</code></pre> Notes <p>This is a wireframe stub; HTTP calls and caching are not implemented.</p> <p>Initialize the client with a base URL.</p> Source code in <code>components/grounding-service/src/grounding_service/ubkg_client.py</code> <pre><code>def __init__(self, base_url: str = \"https://ubkg-api.xconsortia.org\") -&gt; None:\n    \"\"\"Initialize the client with a base URL.\"\"\"\n    self.base_url = base_url\n</code></pre> Functions search_snomed <pre><code>search_snomed(query: str, limit: int = 5) -&gt; List[UbkgCandidate]\n</code></pre> <p>Search SNOMED concepts via UBKG.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Free-text clinical concept to search.</p> required <code>limit</code> <code>int</code> <p>Maximum number of candidates to return.</p> <code>5</code> <p>Returns:</p> Type Description <code>List[UbkgCandidate]</code> <p>A list of candidate SNOMED concepts.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the query is empty.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; UbkgClient().search_snomed(\"stage III melanoma\")\n[]\n</code></pre> Notes <p>The production version will call the UBKG search endpoint and map results into <code>UbkgCandidate</code> instances.</p> Source code in <code>components/grounding-service/src/grounding_service/ubkg_client.py</code> <pre><code>def search_snomed(self, query: str, limit: int = 5) -&gt; List[UbkgCandidate]:\n    \"\"\"Search SNOMED concepts via UBKG.\n\n    Args:\n        query: Free-text clinical concept to search.\n        limit: Maximum number of candidates to return.\n\n    Returns:\n        A list of candidate SNOMED concepts.\n\n    Raises:\n        ValueError: If the query is empty.\n\n    Examples:\n        &gt;&gt;&gt; UbkgClient().search_snomed(\"stage III melanoma\")\n        []\n\n    Notes:\n        The production version will call the UBKG search endpoint and map\n        results into ``UbkgCandidate`` instances.\n    \"\"\"\n    return []\n</code></pre>"},{"location":"hitl-ui/","title":"HITL UI","text":"<p>React/Vite frontend for nurse review of extracted criteria and evidence.</p>"},{"location":"hitl-ui/#scope","title":"Scope","text":"<ul> <li>Display protocols, criteria, and evidence snippets.</li> <li>Provide SNOMED candidate review and edit workflows.</li> <li>Capture nurse feedback for audit and retraining.</li> </ul>"},{"location":"hitl-ui/#development","title":"Development","text":"<pre><code>npm install\nnpm run dev\n</code></pre>"},{"location":"hitl-ui/#structure","title":"Structure","text":"<ul> <li><code>src/screens</code> - Top-level views.</li> <li><code>src/features</code> - Feature-specific modules.</li> <li><code>src/components</code> - Shared UI components.</li> <li><code>src/design-system</code> - Tokens, theme, and UI primitives.</li> </ul>"},{"location":"overview/architecture/","title":"Architecture","text":"<p>The system is structured as a component-based monorepo with distinct services for API, extraction, grounding, data ingestion, evaluation, and UI.</p> <pre><code>flowchart LR\n  protocolSource[\"ProtocolSource (CT.gov)\"] --&gt; dataPipeline\n  dataPipeline --&gt; apiService\n  apiService --&gt; extractionService\n  apiService --&gt; groundingService\n  groundingService --&gt; ubkgApi\n  hitlUi --&gt; apiService\n  apiService --&gt; database\n</code></pre>"},{"location":"overview/architecture/#key-integration-points","title":"Key Integration Points","text":"<ul> <li><code>POST /v1/protocols</code> to register protocol metadata and text/PDF.</li> <li><code>POST /v1/protocols/{id}/extract</code> to trigger extraction.</li> <li><code>POST /v1/criteria/{id}/ground</code> to retrieve SNOMED candidates.</li> <li><code>POST /v1/hitl/feedback</code> to log nurse actions.</li> </ul>"},{"location":"overview/architecture/#component-responsibilities","title":"Component Responsibilities","text":"Component Responsibilities <code>api-service</code> Orchestration, persistence, request validation, HITL feedback. <code>extraction-service</code> Extract atomic criteria and classify inclusion/exclusion. <code>grounding-service</code> UBKG REST lookup for SNOMED candidates. <code>data-pipeline</code> Protocol ingestion and normalization. <code>evaluation</code> Metrics (extraction F1, SNOMED Top-1, HITL stats). <code>shared</code> Shared schemas and types. <code>hitl-ui</code> Nurse-facing review, edit, and evidence display."},{"location":"overview/architecture/#storage","title":"Storage","text":"<ul> <li><code>protocols</code>: protocol metadata and trial IDs.</li> <li><code>documents</code>: protocol text and provenance.</li> <li><code>criteria</code>: atomic criteria with type and evidence spans.</li> <li><code>groundings</code>: SNOMED candidates and confidence scores.</li> <li><code>hitl_edits</code>: nurse actions for audit and retraining.</li> </ul>"},{"location":"overview/getting-started/","title":"Getting Started","text":""},{"location":"overview/getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12</li> <li>UV package manager</li> <li>Node.js 18+ (for HITL UI)</li> <li>Docker (optional, for local DB)</li> </ul>"},{"location":"overview/getting-started/#setup","title":"Setup","text":"<pre><code>uv sync\nmake docs-build\n</code></pre> <p>To serve docs locally:</p> <pre><code>make docs-serve\n</code></pre> <p>To run the API service (wireframe stub):</p> <pre><code>cd components/api-service\nuv run uvicorn api_service.main:app --reload\n</code></pre> <p>To run the data pipeline stub:</p> <pre><code>cd components/data-pipeline\nuv run python -m data_pipeline.download_protocols\n</code></pre> <p>To run the HITL UI:</p> <pre><code>cd components/hitl-ui\nnpm install\nnpm run dev\n</code></pre>"},{"location":"overview/getting-started/#testing","title":"Testing","text":"<p>Each Python component includes a Makefile with linting, type-checking, and test targets:</p> <pre><code>cd components/api-service\nmake check-all\n</code></pre>"},{"location":"overview/hackathon-plan/","title":"MedGemma Hackathon \u2013 Concise Operational Plan","text":"<p>Goal: Deliver a hackathon\u2011ready MedGemma HITL demo that extracts atomic inclusion/exclusion criteria from trial protocols and grounds them to SNOMED via UBKG, with a clear ElixirTrials integration story.</p>"},{"location":"overview/hackathon-plan/#1-project-brief","title":"1. Project Brief","text":""},{"location":"overview/hackathon-plan/#11-problem-impact","title":"1.1 Problem &amp; Impact","text":"<ul> <li>Clinical trial protocols are unstructured; screening is slow and error\u2011prone.</li> <li>We build an AI\u2011assisted system that:</li> <li>Extracts atomic inclusion/exclusion criteria from protocols.</li> <li>Maps them to SNOMED (via UBKG REST API).</li> <li>Lets a nurse reviewer correct mappings through a simple HITL UI.</li> <li>Target time savings: ~65\u201370% nurse time per protocol vs. manual review.  </li> </ul>"},{"location":"overview/hackathon-plan/#12-success-criteria-hackathon","title":"1.2 Success Criteria (Hackathon)","text":"<p>Judging\u2011aligned: 1. Human\u2011Centered AI    - Simple, transparent HITL UI.    - Shows provenance (evidence snippets) + confidence scores.    - Nurse can accept/edit/add SNOMED codes inline.</p> <ol> <li>Technical Rigor</li> <li>MedGemma 1.5\u20134B\u2011IT with LoRA adapters for:<ul> <li>Task A: Criteria extraction.</li> <li>Task B: SNOMED grounding.</li> </ul> </li> <li> <p>8\u2011bit quantized inference on DGX Spark\u2011class hardware.</p> </li> <li> <p>Impact &amp; Feasibility</p> </li> <li>Measured extraction F1 and SNOMED Top\u20111 accuracy.</li> <li>Measured time per protocol: baseline vs AI\u2011assisted.</li> <li>Clear story to plug into ElixirTrials/Cauldron.</li> </ol> <p>Quantitative Targets (Hackathon): - Extraction F1: \u2265 0.85 - SNOMED Top\u20111 accuracy: \u2265 0.80 - Nurse acceptance rate: \u2265 70% - Time per protocol: \u2265 60% reduction vs manual.</p>"},{"location":"overview/hackathon-plan/#2-scope","title":"2. Scope","text":""},{"location":"overview/hackathon-plan/#21-in-scope-hackathon","title":"2.1 In Scope (Hackathon)","text":"<ul> <li>Ingest public ClinicalTrials.gov protocols (200\u2013300).</li> <li>Extract atomic inclusion/exclusion criteria.</li> <li>Ground criteria to SNOMED via UBKG REST API (no external dependencies beyond public APIs).</li> <li>HITL backend:</li> <li>Save criteria, suggested codes, and nurse edits.</li> <li>Simple review UI (Gradio or minimal React view).</li> <li>LoRA fine\u2011tuning of MedGemma on nurse\u2011validated labels.</li> <li>8\u2011bit quantized inference on DGX Spark\u2011class workstation.</li> <li>Kaggle deliverables:</li> <li>Writeup.</li> <li>Training/eval notebook.</li> <li>GitHub repo.</li> <li>3\u20135 min video demo.</li> </ul>"},{"location":"overview/hackathon-plan/#22-out-of-scope-posthackathon-only","title":"2.2 Out of Scope (Post\u2011Hackathon Only)","text":"<ul> <li>Federated learning / multi\u2011site aggregation.</li> <li>EMR / FHIR / Redox integration.</li> <li>Patient\u2011level screening &amp; matching.</li> <li>Full Triplane/Screening integration.</li> </ul>"},{"location":"overview/hackathon-plan/#3-architecture-highlevel","title":"3. Architecture (High\u2011Level)","text":""},{"location":"overview/hackathon-plan/#31-data-flow","title":"3.1 Data Flow","text":"<ol> <li>Protocol Upload</li> <li>Input: PDF/text from ClinicalTrials.gov.</li> <li> <p>Stored as <code>protocol</code> and <code>document</code> rows.</p> </li> <li> <p>Extraction</p> </li> <li>Endpoint: <code>POST /v1/protocols/{id}/extract</code></li> <li> <p>Uses MedGemma (LoRA Task A) \u2192 atomic criteria + type.</p> </li> <li> <p>Grounding</p> </li> <li>Endpoint: <code>POST /v1/criteria/{id}/ground</code></li> <li> <p>UBKG REST API (terminology lookup) + MedGemma (LoRA Task B) \u2192 ranked SNOMED codes.</p> </li> <li> <p>HITL Review</p> </li> <li>Nurse UI fetches:<ul> <li>Criteria list.</li> <li>Suggested SNOMED codes + confidence + evidence snippets.</li> </ul> </li> <li> <p>Nurse edits logged in <code>hitl_edits</code>.</p> </li> <li> <p>Retraining Loop (Single\u2011site)</p> </li> <li>Export edits as new training data.</li> <li>Periodic LoRA re\u2011training of MedGemma adapters.</li> </ol>"},{"location":"overview/hackathon-plan/#32-minimal-api-contract-hackathon","title":"3.2 Minimal API Contract (Hackathon)","text":"<p>Base URL: <code>/v1</code></p> <ul> <li><code>POST /v1/protocols</code></li> <li>Create protocol metadata + initial document (text or PDF).</li> <li><code>POST /v1/protocols/{protocolId}/extract</code></li> <li>Trigger criteria extraction (sync is enough).</li> <li><code>GET /v1/protocols/{protocolId}/criteria</code></li> <li>List criteria for review.</li> <li><code>PATCH /v1/criteria/{criterionId}</code></li> <li>Edit criterion text/type/etc.</li> <li><code>POST /v1/criteria/{criterionId}/ground</code></li> <li>Get SNOMED candidates via UBKG REST API.</li> <li><code>POST /v1/hitl/feedback</code></li> <li>Log nurse actions (accept/remove/add code etc).</li> </ul> <p>(Full OpenAPI spec lives in <code>docs/api_spec.yaml</code>.)</p>"},{"location":"overview/hackathon-plan/#33-core-components","title":"3.3 Core Components","text":"Component Tech / Notes Backend API FastAPI (Python) Model Inference MedGemma 1.5\u20134B\u2011IT + LoRA (8\u2011bit) Terminology UBKG REST API (no custom wrapper) DB PostgreSQL (protocols, criteria, edits) HITL UI Gradio or minimal Cauldron\u2011style view Hardware DGX Spark\u2011class GPU workstation"},{"location":"overview/hackathon-plan/#34-ubkg-integration","title":"3.4 UBKG Integration","text":"<p>Why UBKG: - Pre\u2011built, production\u2011grade knowledge graph combining UMLS + external ontologies. - REST API + Neo4j options. - Zero licensing overhead for hackathon (public/research access). - Multi\u2011terminology support (SNOMED, LOINC, RxNorm, ICD\u201110) built\u2011in.</p> <p>Usage Pattern:</p> <pre><code># Lookup term in UBKG\nPOST https://ubkg-api.xconsortia.org/search\n{\n  \"query\": \"stage III melanoma\",\n  \"ontology\": \"SNOMED\",\n  \"limit\": 5\n}\n\n# Response includes SNOMED codes + definitions + related terms\n{\n  \"results\": [\n    {\n      \"code\": \"372244006\",\n      \"display\": \"Malignant melanoma, stage III\",\n      \"ontology\": \"SNOMED CT\",\n      \"confidence\": 0.92\n    }\n  ]\n}\n</code></pre> <p>Implementation: - Simple HTTP client in <code>backend/ubkg_client.py</code>. - Optional local caching (Redis or in\u2011memory) for frequent lookups. - Fallback to pre\u2011cached SNOMED subset if API unavailable.</p>"},{"location":"overview/hackathon-plan/#4-sprints-daily-execution","title":"4. Sprints &amp; Daily Execution","text":""},{"location":"overview/hackathon-plan/#41-week-1-data-ubkg-integration-jan-1521","title":"4.1 Week 1 \u2013 Data &amp; UBKG Integration (Jan 15\u201321)","text":"<p>Goals: - Have protocols in DB. - UBKG API client working + cached. - Minimal extraction pipeline running (base model).</p> <p>Tasks:</p> <ul> <li>Data &amp; DB</li> <li>Implement <code>scripts/download_protocols.py</code> to fetch 200\u2013300 oncology/cardio trials from ClinicalTrials.gov.</li> <li>Store <code>{nct_id, title, i/e text, condition, phase}</code> in PostgreSQL.</li> <li> <p>Define DB schema:</p> <ul> <li><code>protocols</code>, <code>documents</code>, <code>criteria</code>, <code>groundings</code>, <code>hitl_edits</code>.</li> </ul> </li> <li> <p>UBKG Integration</p> </li> <li>Implement <code>backend/ubkg_client.py</code>:<ul> <li>HTTP client to UBKG REST API.</li> <li>Query term \u2192 get SNOMED candidates.</li> <li>Simple in\u2011memory cache (TTL configurable).</li> <li>Fallback: load local SNOMED subset (CSV from UBKG downloads).</li> </ul> </li> <li> <p>CLI smoke test: terms like \"stage III melanoma\", \"ECOG PS 0\u20131\".</p> </li> <li> <p>Baseline Extraction</p> </li> <li>Implement rough parsing of I/E sections into candidate criteria (regex/sentence splitting).</li> <li>Run base MedGemma (no LoRA) for:<ul> <li>Type classification (inclusion/exclusion).</li> <li>Draft SNOMED suggestions via UBKG.</li> </ul> </li> </ul> <p>Decision / Risk: - By end of Week 1:   - If UBKG API rate limits hit \u2192 use local SNOMED subset file only.</p>"},{"location":"overview/hackathon-plan/#42-week-2-hitl-labeling-jan-2228","title":"4.2 Week 2 \u2013 HITL &amp; Labeling (Jan 22\u201328)","text":"<p>Goals: - Usable HITL UI for nurse. - ~1,000 labeled examples for training.</p> <p>Tasks:</p> <ul> <li>HITL UI (MVP)</li> <li>Build simple UI (Gradio or minimal React) with:<ul> <li>Protocol text on left, highlighted criterion.</li> <li>Criterion card on right:</li> <li>Type, text, confidence.</li> <li>SNOMED candidates with checkboxes.</li> <li>Add/remove code, rationale.</li> </ul> </li> <li> <p>Wire to backend:</p> <ul> <li><code>GET /protocols/{id}/criteria</code></li> <li><code>POST /criteria/{id}/ground</code></li> <li><code>POST /hitl/feedback</code>.</li> </ul> </li> <li> <p>Annotation Workflow</p> </li> <li>Pre\u2011label criteria using base MedGemma + UBKG:<ul> <li>Save as <code>criteria_prelabeled.jsonl</code>.</li> </ul> </li> <li>Define gold label schema (criterion text, type, SNOMED codes, evidence spans).</li> <li>Target: ~1,000 validated criteria (spanning ~120 protocols).</li> <li> <p>Coordinate nurse schedule (~200h total across hackathon).</p> </li> <li> <p>Dataset Preparation</p> </li> <li>Create train/val/test splits:<ul> <li>Train: 1,000 examples (~120 protocols).</li> <li>Val: 100 examples (~15 protocols).</li> <li>Test: 100 examples (held\u2011out conditions).</li> </ul> </li> </ul> <p>Decision / Risk: - If by end of Week 2:   - &lt;700 labeled examples \u2192 reduce model ambition (e.g., only Task B LoRA) and focus on demo quality.</p>"},{"location":"overview/hackathon-plan/#43-week-3-training-backend-jan-29feb-4","title":"4.3 Week 3 \u2013 Training &amp; Backend (Jan 29\u2013Feb 4)","text":"<p>Goals: - LoRA adapters trained and deployed. - Backend API stable. - Basic metrics computed.</p> <p>Tasks:</p> <ul> <li>Model Training</li> <li>Task A (Extraction):<ul> <li>LoRA config: <code>r=16</code>, <code>alpha=32</code>, target <code>q_proj/v_proj/o_proj</code>.</li> <li>3 epochs, batch size 4 (grad accum 4), lr <code>2e\u20114</code>.</li> </ul> </li> <li>Task B (Grounding):<ul> <li>Separate LoRA adapter, same config.</li> <li>Training data from nurse\u2011validated mapping + UBKG candidates.</li> </ul> </li> <li> <p>Use 8\u2011bit QLoRA on DGX Spark; save adapters in <code>models/</code>.</p> </li> <li> <p>Backend Hardening</p> </li> <li>Implement final versions of:<ul> <li><code>POST /protocols</code></li> <li><code>POST /protocols/{id}/extract</code></li> <li><code>GET /protocols/{id}/criteria</code></li> <li><code>PATCH /criteria/{id}</code></li> <li><code>POST /criteria/{id}/ground</code></li> <li><code>POST /hitl/feedback</code></li> </ul> </li> <li>Add logging &amp; basic error handling.</li> <li> <p>Add minimal tests (Pytest) for core API paths.</p> </li> <li> <p>Evaluation</p> </li> <li>Run on test set:<ul> <li>Extraction F1.</li> <li>SNOMED Top\u20111 accuracy.</li> <li>Nurse acceptance rate on small test batch.</li> </ul> </li> <li>Measure:<ul> <li>Time per protocol (manual vs AI\u2011assisted with small pilot).</li> <li>Inference latency per protocol (&lt;15s target).</li> </ul> </li> </ul> <p>Stretch (Only if above done early): - Toy federated simulation with 2\u20133 synthetic \"sites\" using site splits.</p>"},{"location":"overview/hackathon-plan/#44-week-4-demo-writeup-polish-feb-512","title":"4.4 Week 4 \u2013 Demo, Writeup &amp; Polish (Feb 5\u201312)","text":"<p>Goals: - Kaggle submission ready. - Demo smooth and reproducible.</p> <p>Tasks:</p> <ul> <li>Demo Experience</li> <li>End\u2011to\u2011end flow:<ol> <li>Upload or select existing protocol.</li> <li>Run extraction.</li> <li>Show criteria list with SNOMED codes &amp; confidence.</li> <li>Perform a couple of nurse edits.</li> <li>Show metrics/time\u2011saved panel.</li> </ol> </li> <li> <p>Ensure no manual dev hacks (one\u2011command run via Docker Compose).</p> </li> <li> <p>Kaggle Writeup</p> </li> <li> <p>Sections (with word limits):</p> <ol> <li>Problem &amp; Impact (~300 words).</li> <li>Architecture (~400\u2013500 words + 1 diagram).</li> <li>Human\u2011in\u2011the\u2011loop workflow (~300 words).</li> <li>Model &amp; Training (~400\u2013500 words).</li> <li>Results &amp; Error Analysis (~400\u2013500 words).</li> <li>ElixirTrials Integration Roadmap (~300\u2013400 words).</li> <li>Reproducibility &amp; Open Source (~200 words).</li> </ol> </li> <li> <p>Notebook</p> </li> <li> <p><code>notebooks/training_pipeline.ipynb</code>:</p> <ul> <li>Load sample data.</li> <li>Show preprocessing.</li> <li>Demo LoRA training steps (small subset for Kaggle runtime).</li> <li>Show metrics + inference example.</li> </ul> </li> <li> <p>GitHub Repo</p> </li> <li>Structure:     <code>text     gemma-hackathon/       backend/         main.py         models/         ubkg_client.py         tests/       notebooks/       data/ (small sample only)       docs/         api_spec.yaml         architecture.md         ubkg_notes.md       docker-compose.yml       README.md</code></li> <li> <p>README:</p> <ul> <li>One\u2011command run.</li> <li>Hardware assumptions.</li> <li>UBKG API &amp; UMLS licensing notes.</li> <li>\"Demo only \u2013 not for clinical use\" disclaimer.</li> </ul> </li> <li> <p>Video (3\u20135 min)</p> </li> <li>Script:<ul> <li>30s: Problem framing.</li> <li>60\u201390s: Live demo of upload \u2192 extraction \u2192 review.</li> <li>60s: Metrics summary.</li> <li>30\u201360s: ElixirTrials integration story.</li> </ul> </li> </ul>"},{"location":"overview/hackathon-plan/#5-key-implementation-notes","title":"5. Key Implementation Notes","text":""},{"location":"overview/hackathon-plan/#51-umls-approval-already-secured","title":"5.1 UMLS Approval Already Secured","text":"<p>\u2705 No NLM license delay; proceed directly with full deployment.</p>"},{"location":"overview/hackathon-plan/#52-ubkg-as-single-source-of-truth","title":"5.2 UBKG as Single Source of Truth","text":"<ul> <li>Use UBKG REST API for all terminology lookups (SNOMED, LOINC, RxNorm, ICD\u201110).</li> <li>No custom wrapper needed; simple HTTP client + optional caching.</li> <li>Fallback: pre\u2011download SNOMED subset as CSV from UBKG downloads.</li> </ul>"},{"location":"overview/hackathon-plan/#53-data-privacy","title":"5.3 Data Privacy","text":"<ul> <li>All protocols and edits stay in\u2011prem during hackathon.</li> <li>Only LoRA adapter weights and anonymized metrics shared post\u2011hackathon.</li> </ul>"},{"location":"overview/hackathon-plan/#6-metrics-decision-gates","title":"6. Metrics &amp; Decision Gates","text":""},{"location":"overview/hackathon-plan/#61-core-metrics","title":"6.1 Core Metrics","text":"<ul> <li>Extraction (Task A)</li> <li>F1 on test set.</li> <li>Grounding (Task B)</li> <li>SNOMED Top\u20111 accuracy.</li> <li>HITL</li> <li>Nurse acceptance rate.</li> <li>Time per protocol (manual vs AI\u2011assisted).</li> </ul>"},{"location":"overview/hackathon-plan/#62-go-nogo-for-stretch-work-federated-prototype","title":"6.2 Go / No\u2011Go for Stretch Work (Federated Prototype)","text":"<ul> <li>Only attempt if by end of Week 3:</li> <li>Extraction F1 \u2265 0.85.</li> <li>SNOMED Top\u20111 \u2265 0.80.</li> <li>End\u2011to\u2011end demo stable.</li> <li>At least 120 protocols annotated.</li> </ul> <p>Otherwise, invest Week 4 fully in polish, metrics clarity, and submission quality.</p>"},{"location":"overview/hackathon-plan/#7-submission-checklist","title":"7. Submission Checklist","text":""},{"location":"overview/hackathon-plan/#t72-hours","title":"T\u201172 Hours","text":"<ul> <li>[ ] Run Docker Compose from clean environment.</li> <li>[ ] Run Kaggle notebook from top to bottom on Kaggle GPU.</li> <li>[ ] Freeze model artifacts (tagged release in GitHub).</li> </ul>"},{"location":"overview/hackathon-plan/#t24-hours","title":"T\u201124 Hours","text":"<ul> <li>[ ] Finalize Kaggle writeup text.</li> <li>[ ] Upload demo video (YouTube unlisted).</li> <li>[ ] Verify all GitHub + notebook links.</li> </ul>"},{"location":"overview/hackathon-plan/#t0","title":"T\u20110","text":"<ul> <li>[ ] Submit Kaggle entry and confirm appearance in challenge.</li> <li>[ ] Backup repo + models to long\u2011term storage.</li> <li>[ ] Note learnings + next\u2011steps for ElixirTrials production track.</li> </ul>"},{"location":"overview/project/","title":"Project Overview","text":"<p>The MedGemma hackathon demo focuses on protocol ingestion, criteria extraction, UBKG grounding, and HITL review. The objective is to reduce nurse review time while preserving transparency and provenance.</p>"},{"location":"overview/project/#scope","title":"Scope","text":"<ul> <li>Protocol ingestion and parsing.</li> <li>Criteria extraction and classification.</li> <li>SNOMED grounding via UBKG.</li> <li>HITL UI for review and corrections.</li> <li>Minimal evaluation metrics.</li> </ul>"},{"location":"overview/project/#success-criteria","title":"Success Criteria","text":"<ul> <li>Extraction F1 &gt;= 0.85.</li> <li>SNOMED Top-1 accuracy &gt;= 0.80.</li> <li>Nurse acceptance rate &gt;= 70%.</li> <li>Time per protocol reduction &gt;= 60% vs manual.</li> </ul>"},{"location":"overview/project/#deliverables","title":"Deliverables","text":"<ul> <li>End-to-end demo (protocol -&gt; extraction -&gt; grounding -&gt; HITL edits).</li> <li>API spec and component documentation.</li> <li>Training and evaluation notebook.</li> <li>3-5 minute demo video.</li> </ul>"},{"location":"overview/project/#out-of-scope-post-hackathon","title":"Out of Scope (Post-Hackathon)","text":"<ul> <li>EMR/FHIR integration.</li> <li>Multi-site federated learning.</li> <li>Patient-level screening and matching.</li> </ul>"},{"location":"phases/week-1/","title":"Week 1 - Data &amp; UBKG Integration","text":"<ul> <li>Ingest protocols into the database.</li> <li>Implement UBKG client with caching.</li> <li>Baseline extraction pipeline.</li> </ul> <p>See <code>docs/overview/hackathon-plan.md</code> for full details.</p>"},{"location":"phases/week-2/","title":"Week 2 - HITL &amp; Labeling","text":"<ul> <li>Build HITL UI MVP.</li> <li>Collect labeled examples.</li> <li>Prepare dataset splits.</li> </ul> <p>See <code>docs/overview/hackathon-plan.md</code> for full details.</p>"},{"location":"phases/week-3/","title":"Week 3 - Training &amp; Backend","text":"<ul> <li>Train LoRA adapters.</li> <li>Harden API endpoints.</li> <li>Add basic evaluation metrics.</li> </ul> <p>See <code>docs/overview/hackathon-plan.md</code> for full details.</p>"},{"location":"phases/week-4/","title":"Week 4 - Demo &amp; Polish","text":"<ul> <li>End-to-end demo flow.</li> <li>Finalize writeup and video.</li> <li>Ensure reproducibility.</li> </ul> <p>See <code>docs/overview/hackathon-plan.md</code> for full details.</p>"},{"location":"shared/","title":"shared","text":"<p>Shared data models and schemas used by API services and the UI.</p>"},{"location":"shared/#responsibilities","title":"Responsibilities","text":"<ul> <li>Define canonical data structures for protocols, criteria, and groundings.</li> <li>Keep type definitions synchronized across services.</li> </ul>"},{"location":"shared/#key-module","title":"Key Module","text":"<ul> <li><code>shared/models.py</code></li> </ul>"},{"location":"shared/#example-usage","title":"Example Usage","text":"<pre><code>from shared.models import Criterion\n\ncriterion = Criterion(\n    id=\"crit-1\",\n    text=\"Age &gt;= 18 years\",\n    criterion_type=\"inclusion\",\n    confidence=0.92,\n    snomed_codes=[\"371273006\"],\n)\n</code></pre>"},{"location":"shared/#tests","title":"Tests","text":"<pre><code>make check-all\n</code></pre>"},{"location":"shared/docs/api/","title":"shared API Reference","text":"<p>This page contains automatically generated API documentation for the shared component.</p>"},{"location":"shared/docs/api/#api-documentation","title":"API Documentation","text":""},{"location":"shared/docs/api/#shared","title":"shared","text":"<p>shared package.</p>"},{"location":"shared/docs/api/#shared-modules","title":"Modules","text":""},{"location":"shared/docs/api/#shared.models","title":"models","text":"<p>Shared data models for API and UI.</p>"},{"location":"shared/docs/api/#shared.models-classes","title":"Classes","text":""},{"location":"shared/docs/api/#shared.models.Criterion","title":"Criterion  <code>dataclass</code>","text":"<pre><code>Criterion(id: str, text: str, criterion_type: str, confidence: float, snomed_codes: List[str])\n</code></pre> <p>Atomic criterion extracted from a protocol.</p> <p>Parameters:</p> Name Type Description Default <code>id</code> <code>str</code> <p>Stable identifier for the criterion.</p> required <code>text</code> <code>str</code> <p>Criterion text.</p> required <code>criterion_type</code> <code>str</code> <p>Inclusion or exclusion label.</p> required <code>confidence</code> <code>float</code> <p>Model confidence score.</p> required <code>snomed_codes</code> <code>List[str]</code> <p>SNOMED codes attached to the criterion.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; Criterion(\n...     id=\"crit-1\",\n...     text=\"Age &gt;= 18 years\",\n...     criterion_type=\"inclusion\",\n...     confidence=0.92,\n...     snomed_codes=[\"371273006\"],\n... )\nCriterion(\n...     id='crit-1',\n...     text='Age &gt;= 18 years',\n...     criterion_type='inclusion',\n...     confidence=0.92,\n...     snomed_codes=['371273006'],\n... )\n</code></pre> Notes <p>Evidence spans and grounding candidates are stored separately.</p>"},{"location":"shared/docs/api/#shared.models.Protocol","title":"Protocol  <code>dataclass</code>","text":"<pre><code>Protocol(id: str, title: str, nct_id: str, condition: str, phase: str)\n</code></pre> <p>Protocol metadata tracked by the API.</p> <p>Parameters:</p> Name Type Description Default <code>id</code> <code>str</code> <p>Stable protocol identifier.</p> required <code>title</code> <code>str</code> <p>Human-readable trial title.</p> required <code>nct_id</code> <code>str</code> <p>ClinicalTrials.gov identifier.</p> required <code>condition</code> <code>str</code> <p>Primary disease/condition.</p> required <code>phase</code> <code>str</code> <p>Trial phase label.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; Protocol(\n...     id=\"proto-1\",\n...     title=\"Example Trial\",\n...     nct_id=\"NCT00000000\",\n...     condition=\"Melanoma\",\n...     phase=\"Phase 2\",\n... )\nProtocol(\n...     id='proto-1',\n...     title='Example Trial',\n...     nct_id='NCT00000000',\n...     condition='Melanoma',\n...     phase='Phase 2',\n... )\n</code></pre>"},{"location":"shared/docs/api/#shared.models.Document","title":"Document  <code>dataclass</code>","text":"<pre><code>Document(id: str, protocol_id: str, text: str, source_url: Optional[str])\n</code></pre> <p>Protocol document content and provenance.</p> <p>Parameters:</p> Name Type Description Default <code>id</code> <code>str</code> <p>Document identifier.</p> required <code>protocol_id</code> <code>str</code> <p>Associated protocol identifier.</p> required <code>text</code> <code>str</code> <p>Extracted protocol text.</p> required <code>source_url</code> <code>Optional[str]</code> <p>Optional source URL for provenance.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; Document(\n...     id=\"doc-1\",\n...     protocol_id=\"proto-1\",\n...     text=\"Inclusion: ...\",\n...     source_url=None,\n... )\nDocument(\n...     id='doc-1',\n...     protocol_id='proto-1',\n...     text='Inclusion: ...',\n...     source_url=None,\n... )\n</code></pre>"},{"location":"shared/docs/api/#shared.models.GroundingCandidate","title":"GroundingCandidate  <code>dataclass</code>","text":"<pre><code>GroundingCandidate(code: str, display: str, confidence: float)\n</code></pre> <p>SNOMED candidate for a criterion grounding decision.</p> <p>Parameters:</p> Name Type Description Default <code>code</code> <code>str</code> <p>SNOMED concept code.</p> required <code>display</code> <code>str</code> <p>Human-readable concept description.</p> required <code>confidence</code> <code>float</code> <p>Model or retrieval confidence score.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; GroundingCandidate(\n...     code=\"372244006\",\n...     display=\"Malignant melanoma, stage III\",\n...     confidence=0.92,\n... )\nGroundingCandidate(\n...     code='372244006',\n...     display='Malignant melanoma, stage III',\n...     confidence=0.92,\n... )\n</code></pre>"},{"location":"shared/docs/api/#shared.models.HitlEdit","title":"HitlEdit  <code>dataclass</code>","text":"<pre><code>HitlEdit(id: str, criterion_id: str, action: str, note: Optional[str])\n</code></pre> <p>Human-in-the-loop edit captured from a nurse reviewer.</p> <p>Parameters:</p> Name Type Description Default <code>id</code> <code>str</code> <p>Edit identifier.</p> required <code>criterion_id</code> <code>str</code> <p>Criterion updated by the reviewer.</p> required <code>action</code> <code>str</code> <p>Action label (accept, reject, add, edit).</p> required <code>note</code> <code>Optional[str]</code> <p>Optional rationale or comment.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; HitlEdit(\n...     id=\"edit-1\",\n...     criterion_id=\"crit-1\",\n...     action=\"accept\",\n...     note=\"Matches protocol text\",\n... )\nHitlEdit(\n...     id='edit-1',\n...     criterion_id='crit-1',\n...     action='accept',\n...     note='Matches protocol text',\n... )\n</code></pre>"}]}